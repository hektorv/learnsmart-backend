# üìò EPIC 4 ‚Äî Adaptive Assessment and Instant Feedback  
**System:** LearnSmart  
**Base microservices:** assessment-service, ai-service

---

## US-030 | Create Assessment Session

**As** a student,  
**I want** to start an adaptive assessment session,  
**so that** my knowledge level can be measured in a personalized way.

### Endpoint
`POST /assessment-sessions`

### Acceptance Criteria

- The student can start an assessment by specifying the skill to be evaluated.
- A session is created with status `active` and a start timestamp.
- The session has a configurable maximum duration:
  - default: 30 minutes.
- The first item is selected using the adaptive algorithm.
- Only one active session per user is allowed at a time.
- Returns:
  - session ID
  - first item
  - remaining time.
- If an active session already exists:
  - the user is offered the option to resume or cancel it.

---

## US-031 | Get Next Adaptive Item

**As** a student,  
**I want** the assessment to automatically select the next item based on my performance,  
**so that** I receive questions aligned with my real knowledge level.

### Endpoints
`POST /assessment-sessions/{sessionId}/next-item`  
`POST /v1/assessments/next-item`

### Acceptance Criteria

- The system invokes the AI engine to select the next item.
- Selection considers:
  - previous responses
  - response time
  - current estimated level.
- The selected item has a difficulty appropriate to the estimated level:
  - ¬±1 difficulty level.
- Items already presented in the session are not repeated.
- Returns:
  - question
  - options (if applicable)
  - item type
  - difficulty.
- If no more items are available:
  - the assessment is finalized.
- Includes current question number and estimated total.

---

## US-032 | Submit Answer

**As** a student,  
**I want** to submit my answers during the assessment,  
**so that** the system can record and analyze my performance.

### Endpoint
`POST /assessment-sessions/{sessionId}/responses`

### Acceptance Criteria

- The student submits:
  - session ID
  - item ID
  - answer
  - response time.
- Validates that the item belongs to the active session.
- The answer is automatically evaluated.
- The student‚Äôs estimated level is updated:
  - using IRT / CAT algorithms.
- The response is stored with full metadata.
- Returns:
  - result (`correct` / `incorrect`)
  - partial score
  - whether a next item exists.
- If the session has expired:
  - returns `HTTP 410 Gone`.

---

## US-033 | Generate Personalized Feedback

**As** a student,  
**I want** to receive AI-generated personalized feedback after answering,  
**so that** I can understand my mistakes and receive contextual explanations or hints.

### Endpoint
`POST /v1/assessments/feedback`

### Acceptance Criteria

- After each incorrect answer, feedback is automatically generated.
- Feedback is generated by the AI engine.
- Feedback includes:
  - explanation of the underlying concept
  - why the given answer was incorrect
  - a hint or alternative way to understand.
- The tone is pedagogical, positive, and motivating.
- Feedback is contextualized to the specific question.
- The student can request additional feedback:
  - e.g. ‚Äúexplain in another way‚Äù.
- Generation time is under **3 seconds**.
- For correct answers:
  - optional positive reinforcement is provided.

---

## US-034 | View Skill Mastery

**As** a student,  
**I want** to view my mastery level per skill,  
**so that** I can understand my progress and improvement areas.

### Endpoint
`GET /users/{userId}/skill-mastery/{skillId}`

### Acceptance Criteria

- The student can query mastery for:
  - a specific skill
  - or all skills.
- Returns:
  - skill
  - mastery level (0‚Äì100%)
  - last evaluation date.
- Includes trend:
  - improving
  - stable
  - declining.
- Includes number of assessments performed per skill.
- Shows breakdown by subtopics (if applicable).
- Highlights skills with low mastery that require attention.
- Optionally compares against anonymized peer averages.

---
